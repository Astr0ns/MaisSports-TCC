<!DOCTYPE html>
<html lang="pt-br">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="imagem/png" href="imagem/icon-msports.jpg">

    <!-- Link Responsives CSS's-->
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link rel="stylesheet" media="screen and (min-width: 535px) and (max-width: 768px)" href="css/small.css">
    <link rel="stylesheet" media="screen and (max-width: 534px)" href="css/verysmall.css">
    <link rel="stylesheet" media="screen and (min-width: 769px) and (max-width: 1024px)" href="css/medium.css">
    <!-- End Responsives CSS's-->

    <!-- Link CSS's of Mains, Sections, etc. -->

    <link rel="stylesheet" href="css/codes/buttons.css">
    <link rel="stylesheet" href="css/codes/product-page.css">
    <link rel="stylesheet" href="css/codes/tamanhos-prod.css">
    <link rel="stylesheet" href="css/codes/nav-bar.css">
    <link rel="stylesheet" href="css/codes/footer.css">
    <link rel="stylesheet" href="css/codes/add-product.css">
    <link rel="stylesheet" href="css/codes/tendencia.css">

    <!-- Others Links -->

    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">


     <script src="js/add-product.js"></script> 

    <title>+Sports</title>
</head>

<body onload="saberPreco(3.5)">
    
    <%- include("../partial/header-home", { email: email }) %>

    <!--  -->

    <section class="container-product">
        <section class="container">
            <section class="card">
                <form action="/adicionarProdSegredos" method="POST" enctype="multipart/form-data">

                    <section class="assinatura-page">
                        <section class="assinatura_planos desativar_container">
                            <button type="button" id="p-black" onclick="selectBlack()"><h3>10 É FAIXA</h3><p>Voecê Que Manda</p></button>
                            <button type="button" id="p-medio" onclick="selectMedio()"><h3>CRAQUE</h3><p>Ocê é Craque</p></button>
                            <button type="button" id="p-normal" onclick="selectNormal()"><h3>BASICO</h3><p>Apenas 1 Vez</p></button>
                            <p class="corSelected" style="display: none;">rgb(17, 53, 100)</p>
                        </section>

                        <%- include("../partial/assinatura-card") %>
                    </section>

                    
                    <!-- <section class="product-card  desativar_container"> -->
                    <section class="desativar_container" id="product-card-stl">
                        
                        <section class="MainIgm" data-index="0">
                            <input type="file" name="imagens" class="hidden-input" accept="image/*">
                            <div class="image-preview" id="preview-0">
                              <a href="#" class="upload-link"><i class="bi bi-plus-circle"></i> Adicionar Imagem</a>
                            </div>
                          </section>
                        
                          <section class="MainIgm" data-index="1">
                            <input type="file" name="imagens" class="hidden-input" accept="image/*">
                            <div class="image-preview" id="preview-1">
                              <a href="#" class="upload-link"><i class="bi bi-plus-circle"></i></a>
                            </div>
                          </section>
                        
                          <section class="MainIgm" data-index="2">
                            <input type="file" name="imagens" class="hidden-input" accept="image/*">
                            <div class="image-preview" id="preview-2">
                              <a href="#" class="upload-link"><i class="bi bi-plus-circle"></i></a>
                            </div>
                          </section>
                        
                          <section class="MainIgm" data-index="3">
                            <input type="file" name="imagens" class="hidden-input" accept="image/*">
                            <div class="image-preview" id="preview-3">
                              <a href="#" class="upload-link"><i class="bi bi-plus-circle"></i></a>
                            </div>
                          </section>
                    
                        
                        
                    </section>
                    
                    <section class="product-info desativar_container" id="product-info-stl">

                        <section class="title-prod">
                            <label for="name">Editar nome do produto:</label><br>
                            <input class="name" type="text" id="titulo_prod" name="titulo_prod"
                                placeholder="Digite o nome">
                            
                        </section>

                        <section class="opt_catogorias">
                            <section class="categoria_prod">
                                <label for="categoria_prod">Categoria:</label>
                                <select name="categoria_prod">
                                    <option value="" selected>Selecione</option>
                                    <option value="basquete">Basquete</option>
                                    <option value="football">Futebol</option>
                                    <option value="volei">Vôlei</option>
                                    <option value="treino">Treino</option>
                                    <option value="skate">skate</option>
                                </select>
                            </section>
                            
                            <section class="categoria_prod">
                                <label for="tipo_prod">Tipo:</label>
                                <select class="tipo_prod" name="tipo_prod">
                                    <option value="" selected>Selecione</option>
                                    <option value="roupa">Roupa</option>
                                    <option value="equipamento">Equipamento</option>
                                </select>
                            </section>

                        </section>
                        
                        <section class="categoria_prod" id="roupa_prod">
                            <label for="roupa_prod">Peça:</label>
                            <select name="roupa_prod">
                                <option value="" selected>Selecione</option>
                                <option value="camiseta">Camiseta</option>
                                <option value="blusa">Blusa</option>
                                <option value="calca">Calça</option>
                                <option value="shorts">Shorts</option>
                                <option value="acessorio">Acessório</option>
                                <option value="calcados">Calçados</option>
                            </select>
                        </section>

        

                        <section class="price">
                            <label for="valor_prod">Editar preço do produto:</label><br>
                            <input class="name" type="text" id="valor_prod" name="valor_prod" placeholder="Digite o preço">
                        </section>

                        <section class="tamanhos">
                            <h2 class="tam-inf"><span>Tamanho</span></h2>
                            <section class="tam-calcado">
                                <section class="num-tam">36</section>
                                <section class="num-tam">37</section>
                                <section class="num-tam">38</section>
                                <section class="num-tam">39</section>
                                <section class="num-tam">40</section>
                                <section class="num-tam">41</section>
                                <section class="num-tam">42</section>
                                <section class="num-tam">43</section>
                                <section class="num-tam">44</section>
                                <section class="num-tam">45</section>
                            </section>
                            <section class="tam-roupa">
                                <section class="num-tam">PP</section>
                                <section class="num-tam">P</section>
                                <section class="num-tam">M</section>
                                <section class="num-tam">G</section>
                                <section class="num-tam">GG</section>
                                <section class="num-tam">G1</section>
                                <section class="num-tam">G2</section>
                                <section class="num-tam">G3</section>
                            </section>
                        </section>

                        <section class="caminho_prod">
                            <label for="link_prod">Adicionar link do produto:</label><br>
                            <input class="name" type="text" id="link_prod" name="link_prod" placeholder="Digite o link">
                        </section>

                        <section class="descricao_produto">
                            <label for="descricao_prod">Editar descrição do produto:</label><br>
                            <!-- <section class="center-text">
                                <h2>Pré-visualização do texto:</h2>
                                <p>Preço Produto<span>R$166,66</span></p>
                            </section> -->
                            <textarea id="descricao_prod" name="descricao_prod" placeholder="digite o descrição"></textarea>

                        </section>

                        <section class="backNext">
                            <button type="button" class="backButton">
                                Voltar
                            </button>
                            <button type="button" class="nextButton" onclick="NextAddProduct(2)">
                                Proximo
                            </button>
                        </section>

                        </section>
                        <section class="finalizar-add-product">
                            
                                <section class="products">
                                   <section class="row">
                                       <div class="img_product_previw">
                                        
                                       </div>
                                       <section class="product-text">
                                           <h5>NEW</h5>
                                       </section>
                                       <section class="heart-icon">
                                           <i class='bx bx-heart'></i>
                                       </section>
                                       <section class="ratting">
                                           <i class="bi bi-star-fill"></i>
                                           <i class="bi bi-star-fill"></i>
                                           <i class="bi bi-star-fill"></i>
                                           <i class="bi bi-star-fill"></i>
                                           <i class="bi bi-star-half"></i>
                                       </section>
                                       <section class="price">
                                           <h4 class="nomeProdForm">Nike Air Force 1 Mid "07</h4>
                                           <section class="desc-price">
                                               
                                               <section class="preco">
                                                   <p>$ 854,99 no PIX</p>
                                                   <!-- <p>6 x R$119,98</p> -->
                                               </section>
                                               <p class="desconto">-13%</p>
                                           </section>
                                           <section class="desc-outher">
                                               <p class="estoque">em estoque</p>
                                               <section class="prod-colors">
                                                   <p class="cores">cores</p>
                                                   <section class="ballwht"></section>
                                               </section>
                                           </section>
                                           
                                       </section>
                                   </section>
                                </section>

                                <section class="confirmarPagamento">
                                    <section class="assinatura-data">
                                        <h2>10 É FAIXA</h2>
                                    </section>
                                    <section class="confirmarText">
                                        <h4>pagando:</h4>
                                        <p id="duracao_plano">Plano de 6</p>
                                        <h4>Valor Total:</h4>
                                        <p>R$<span></span></p>
                                    </section>
                                    <input type="hidden" name="valorPlano" id="valorPlano" value=""></input>
                                    <input type="hidden" name="idPlano" id="idPlano" value="1"></input>
                                    <button type="submit">Adicionar Agora!</button>
                                </section>

                                
                        
                        </section>

                        

                                
                    </section>

                    
                </form>
            </section>
        </section>
    </section>

    <script src="js/script.js"></script>
    <script src="js/mini-imgs.js"></script>

    <script>
        // Definindo a variável email no JavaScript com o valor vindo do backend
        const email = "<%= email %>";
    </script>
        
    <!-- Pegar imagem pelo icons de adiconar -->
    <script>
        document.querySelectorAll('.upload-link').forEach((link, index) => {
            link.addEventListener('click', (event) => {
            event.preventDefault();
            const input = link.closest('.MainIgm').querySelector('.hidden-input');
            input.click();
            });
        });

        document.querySelectorAll('.hidden-input').forEach((input, index) => {
            input.addEventListener('change', function (event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                const previewDiv = document.getElementById(`preview-${index}`);
                previewDiv.innerHTML = `
                    <img src="${e.target.result}">
                    <button type="button" class="remove-image">Remover</button>
                `;

                if(index==0){
                    const previwImgInfo = document.querySelector('.img_product_previw');
                    previwImgInfo.innerHTML = `
                    <img src="${e.target.result}">
                `;
                
                }

                // Adicionar funcionalidade de remover imagem
                const removeBtn = previewDiv.querySelector('.remove-image');
                removeBtn.addEventListener('click', () => {
                          previewDiv.innerHTML = `<a href="#" class="upload-link"><i class="bi bi-plus-circle"></i> Adicionar Imagem</a>`;
                    
                    // Reativar a funcionalidade de clicar para adicionar imagem
                    const newLink = previewDiv.querySelector('.upload-link');
                    newLink.addEventListener('click', (event) => {
                    event.preventDefault();
                    input.click();
                    });
                });
                };
                reader.readAsDataURL(file);
            }
            });
        });

    </script>         
     

</body>

</html>